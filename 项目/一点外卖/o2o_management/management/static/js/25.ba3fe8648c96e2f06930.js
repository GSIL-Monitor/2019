webpackJsonp([25],{Z43m:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("spLH"),l=a("gyMJ"),r={components:{pagination:i.a},data:function(){return{displayVisable:!1,displayUrl:null,editorVisable:!1,editorItem:{},areaList:[],categoryList:[],loading:!1,tableData:[],tempData:{},searchData:{},page:{pageNum:null,pageCurrent:1,pageSize:10}}},methods:{audit:function(t){var e=this;l.C.Audit({id:this.editorItem.id,status:t}).then(function(t){e.editorVisable=!1})},display:function(t){this.displayVisable=!0,this.displayUrl=t},editor:function(t){this.editorVisable=!0,this.editorItem=t},searchArea:function(t){var e=this;this.$common.throttle(function(){l.C.storeZoom({areaName:t}).then(function(t){e.areaList=t.rows})},1e3)},searchCategory:function(t){var e=this;this.$common.throttle(function(){l.C.storeCategory({categoryName:t}).then(function(t){e.categoryList=t.rows})},1e3)},initData:function(t,e){var a=this;this.loading=!0,this.searchData=this.$common.deepCopy(this.tempData),this.searchData.page=this.page.pageCurrent,this.searchData.size=this.page.pageSize,l.C.storeAudit(this.searchData).then(function(t){a.tableData=t.rows,a.page.pageNum=t.count}),setTimeout(function(){a.loading=!1},500)},searchList:function(){this.searchData=this.$common.deepCopy(this.tempData),this.page.pageCurrent=1,this.initData(1)},currentChange:function(t){this.page.pageCurrent=t,this.initData()},sizeChange:function(t){this.page.pageSize=t,this.page.pageCurrent=1,this.initData(1)}},beforeMount:function(){this.initData()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content storeAudit"},[a("div",{staticClass:"operation"},[a("el-form",{staticClass:"mgt20",attrs:{"label-width":"100px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"店铺分类"}},[a("el-select",{attrs:{filterable:"",remote:"","remote-method":t.searchCategory},on:{focus:function(e){t.searchCategory("")}},model:{value:t.tempData.categoryName,callback:function(e){t.$set(t.tempData,"categoryName",e)},expression:"tempData.categoryName"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.categoryCode,attrs:{label:t.categoryName}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"店铺分分区"}},[a("el-select",{attrs:{filterable:"",clearable:"",remote:"","remote-method":t.searchArea},on:{focus:function(e){t.searchArea("")}},model:{value:t.tempData.areaName,callback:function(e){t.$set(t.tempData,"areaName",e)},expression:"tempData.areaName"}},t._l(t.areaList,function(t){return a("el-option",{key:t.areaCode,attrs:{value:t.areaCode,label:t.areaName}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"店铺名称"}},[a("el-input",{model:{value:t.tempData.startName,callback:function(e){t.$set(t.tempData,"startName",e)},expression:"tempData.startName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"mgb0",attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-mm-dd","value-format":"yyyy-mm-dd",placeholder:"起始时间"},model:{value:t.tempData.startTime,callback:function(e){t.$set(t.tempData,"startTime",e)},expression:"tempData.startTime"}}),t._v(" "),a("span",{staticStyle:{width:"60px"}},[t._v("-")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",format:"yyyy-mm-dd","value-format":"yyyy-mm-dd",placeholder:"截止时间"},model:{value:t.tempData.endTime,callback:function(e){t.$set(t.tempData,"endTime",e)},expression:"tempData.endTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"mgb0"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchList}},[t._v("查询")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"店铺名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"店铺地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"businessTime",label:"营业时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"店铺分类",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"areaName",label:"店铺区域名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderPhone",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.editor(e.row)}}},[t._v("详情审核")])]}}])})],1)],1),t._v(" "),a("pagination",{attrs:{"current-page":t.page.pageCurrent,"page-size":t.page.pageSize,total:t.page.pageNum},on:{sizeChange:t.sizeChange,currentChange:t.currentChange}}),t._v(" "),a("el-dialog",{staticClass:"editor",attrs:{title:"店铺审核",visible:t.editorVisable,width:"800px","modal-append-to-body":!1},on:{"update:visible":function(e){t.editorVisable=e}}},[a("el-form",{attrs:{model:t.editorItem,"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"店铺名称"}},[a("el-input",{attrs:{disabled:"",value:t.editorItem.shopName}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商户ID"}},[a("el-input",{attrs:{disabled:"",value:t.editorItem.id}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"店铺区域"}},[a("el-input",{attrs:{disabled:"",value:t.editorItem.areaName}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"店铺类别"}},[a("el-input",{attrs:{disabled:"",value:t.editorItem.categoryName}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"身份证信息","label-width":"100px"}},[a("el-row",{staticClass:"flbox",attrs:{gutter:20}},[a("img",{staticClass:"idImg",attrs:{src:t.editorItem.idCardFront,alt:""},on:{click:function(e){t.display(t.editorItem.idCardFront)}}}),a("img",{staticClass:"idImg",attrs:{src:t.editorItem.idCardReverse,alt:""},on:{click:function(e){t.display(t.editorItem.idCardReverse)}}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"营业执照信息","label-width":"100px;"}},[a("el-row",{staticClass:"flbox"},[a("img",{staticClass:"businessImg",attrs:{src:t.editorItem.businessLicense,alt:""},on:{click:function(e){t.display(t.editorItem.idCardFront)}}})])],1),t._v(" "),a("el-form-item",{staticClass:"flbox"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.audit(0)}}},[t._v("审核通过")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.audit(2)}}},[t._v("审核不通过")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.displayVisable,width:"800px","modal-append-to-body":!1},on:{"update:visible":function(e){t.displayVisable=e}}},[a("img",{attrs:{src:t.displayUrl,alt:""}})])],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(t){a("lSPx")},null,null);e.default=o.exports},lSPx:function(t,e){}});
//# sourceMappingURL=25.ba3fe8648c96e2f06930.js.map