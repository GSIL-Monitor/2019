webpackJsonp([4],{MnaK:function(e,t){},OvRC:function(e,t,a){e.exports={default:a("oM7Q"),__esModule:!0}},oM7Q:function(e,t,a){a("sF+V");var n=a("FeBl").Object;e.exports=function(e,t){return n.create(e,t)}},"sF+V":function(e,t,a){var n=a("kM2E");n(n.S,"Object",{create:a("Yobk")})},u0bi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("OvRC"),o=a.n(n),i=a("gyMJ"),s={components:{pagination:a("spLH").a},data:function(){return{categoryList:[],loading2:!1,categoryTime:"",zoneTime:"",oneKeylist:[],operList:[],loading:!1,dataList:[],tempData:{areaName:null,categoryName:null,shopName:null,onOff:null},serData:{},page:{pageNum:10,currentPage:1,pageSize:5}}},methods:{initData:function(e,t){var a=this;this.loading=!0,Object(i.H)({page:e||this.page.currentPage,size:t||this.page.pageSize,areaName:this.serData.areaName,categoryName:this.serData.categoryName,onOff:this.serData.onOff,shopNme:this.serData.shopNme}).then(function(e){a.dataList=e.rows,a.page.pageNum=e.count})},excelBusShop:function(){},currentChange:function(e){this.page.currentPage=e,this.initData()},sizeChange:function(e){this.page.pageSize=e,this.initData(1)},closeAndopen:function(e,t,a){var n=this;this.loading=!0,i.C.openSwitch({id:e,onOff:t}).then(function(e){setTimeout(function(){n.loading=!1},500)})},handleSelectionChange:function(e){var t=this;this.operList.lenth=0,this.oneKeylist.length=0,this.operList=e,e.forEach(function(e){t.oneKeylist.push(e.id)})},oneKey:function(e){var t=this;if(0!=this.operList.length&&0!=this.oneKeylist.length){this.loading=!0;var a=[];this.oneKeylist.forEach(function(t){a.push({id:t,onOff:e})}),i.C.storeMessageOffAndOn(a).then(function(a){"0"==a.code?(t.$message.success("一键操作成功"),t.operList.forEach(function(t){t.onOff=e})):t.$message.success("一键操作失败")}).then(function(){setTimeout(function(){t.loading=!1},500)})}else this.$message.error("未选取操作对象")},throttle:function(e,t){var a;return t=t||1e3,function(){clearTimeout(a);a=setTimeout(function(){e()},t)}},searchCategory:function(e){var t=this;this.throttle(function(){i.C.storeCategory({page:1,size:50,categoryName:e}).then(function(e){t.categoryList=e.rows})},2e3)()},serZoneData:function(e,t){var a,n;i.C.storeZoom({page:1,size:50,areaName:e}).then(function(e){a=e.rows,clearTimeout(n),n=setTimeout(function(){t(a)},1e3*Math.random())})},search:function(){this.serData=o()(this.tempData),this.initData(1)}},beforeMount:function(){this.initData()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clearfix"},[a("div",{staticClass:"operation"},[a("div",{staticClass:"clearfix "},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"店铺分类"}},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:"输入店铺分类模糊查询",loading:e.loading2,"remote-method":e.searchCategory},on:{focus:function(t){e.searchCategory("")}},model:{value:e.tempData.categoryName,callback:function(t){e.$set(e.tempData,"categoryName",t)},expression:"tempData.categoryName"}},e._l(e.categoryList,function(e){return a("el-option",{key:e.categoryCode,attrs:{value:e.categoryCode,label:e.categoryName}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"店铺分区"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.serZoneData,placeholder:"输入店铺分区模糊查询","value-key":"areaName",debounce:2e3},model:{value:e.tempData.areaName,callback:function(t){e.$set(e.tempData,"areaName",t)},expression:"tempData.areaName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"开启状态"}},[a("el-select",{attrs:{clearable:""},model:{value:e.tempData.onOff,callback:function(t){e.$set(e.tempData,"onOff",t)},expression:"tempData.onOff"}},[a("el-option",{attrs:{label:"全部",value:""}},[e._v("全部")]),e._v(" "),a("el-option",{attrs:{label:"已开启",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"未开启",value:"1"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"店铺名称"},model:{value:e.tempData.shopName,callback:function(t){e.$set(e.tempData,"shopName",t)},expression:"tempData.shopName"}},[a("el-input",{attrs:{placeholder:"输入店铺名称模糊查询"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"padding-left":"40px"},attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.oneKey(1)}}},[e._v("一键关闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.oneKey(0)}}},[e._v("一键开启")]),e._v(" "),a("el-button",{staticClass:"addBatchBtn",attrs:{type:"primary"},on:{click:e.excelBusShop}},[a("router-link",{attrs:{to:"/gober/addBatch"}},[e._v("批量上传店铺")])],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{"empty-text":"暂无数据",border:"",data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"序号",width:"80",align:"center",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"店铺名称",width:"200",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"店铺地址",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"businessTime",label:"营业时间",width:"200",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"店铺分类",width:"220",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"areaName",label:"店铺分区",width:"200",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isOpen",label:"店铺状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1},on:{change:function(a){e.closeAndopen(t.row.id,t.row.onOff,t.$index)}},model:{value:t.row.onOff,callback:function(a){e.$set(t.row,"onOff",a)},expression:"scope.row.onOff"}})]}}])})],1)],1),e._v(" "),a("pagination",{attrs:{"current-page":e.page.currentPage,"page-size":e.page.pageSize,total:e.page.pageNum},on:{sizeChange:e.sizeChange,currentChange:e.currentChange}})],1)},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(e){a("MnaK")},null,null);t.default=r.exports}});
//# sourceMappingURL=4.f6a6f9c3db6b2c27a889.js.map