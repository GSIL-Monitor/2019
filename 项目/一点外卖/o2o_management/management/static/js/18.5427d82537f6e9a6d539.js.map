{"version":3,"sources":["webpack:///src/views/store/storeNotice.vue","webpack:///./src/views/store/storeNotice.vue?4903","webpack:///./src/views/store/storeNotice.vue"],"names":["storeNotice","components","pagination","data","shopIdList","rules","noticeName","required","message","tigger","noticeContent","startTime","endTime","loading","tableData","tempData","shopName","searchData","page","pageNum","pageCurrent","pageSize","editorItem","editorVisabilty","addVisabilty","addItem","methods","initData","size","_this","this","Object","api","then","res","rows","count","setTimeout","del","id","_this2","currentChange","val","sizeChange","searchList","$common","deepCopy","close","addShow","clearMessage","editorShow","row","submit","formName","_this3","$refs","validate","valid","searchNoticedStore","v","_this4","throttle","storeName","beforeMount","store_storeNotice","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label-width","span","label","model","value","callback","$$v","$set","expression","_v","staticStyle","padding-left","type","icon","on","click","directives","name","rawName","width","margin-top","border","fixed","align","prop","scopedSlots","_u","key","fn","scope","_s","$event","title","visible","modal-append-to-body","update:visible","ref","filterable","remote","placeholder","remote-method","clearable","_l","item","value-format","slot","disabled","current-page","page-size","total","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.5427d82537f6e9a6d539.js","sourcesContent":["<template>\r\n  <div class=\"content clearfix\">\r\n   <div class=\"operation\">\r\n    <div class=\"clearfix\">\r\n      <el-form label-width=\"80px\">\r\n        <el-col :span=\"5\">\r\n          <el-form-item label=\"店铺名称\" class=\"mgb0\">\r\n            <el-input v-model=\"tempData.shopName\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"5\">\r\n          <el-form-item label=\"公告名称\" class=\"mgb0\">\r\n            <el-input v-model=\"tempData.noticeName\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"padding-left:40px\">\r\n          <el-button @click=\"searchList\" type=\"searchList\" icon=\"el-icon-search\">查询</el-button>\r\n          <el-button @click=\"addShow\" type=\"primary\" icon=\"el-icon-plus\">新增</el-button>\r\n        </el-col>\r\n\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n  <div class=\"table\">\r\n    <el-table\r\n     v-loading=\"loading\"\r\n      border\r\n      :data=\"tableData\"\r\n      style=\"width: 100%;margin-top:20px;\">\r\n      <el-table-column\r\n        fixed\r\n        label=\"序号\"\r\n        align=\"center\"\r\n        type=\"index\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"noticeName\"\r\n        label=\"公告名称\"\r\n        width=\"140\"\r\n        align=\"center\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"店铺名称\"\r\n        width=\"180\"\r\n        align=\"center\" >\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.shopName != null ? scope.row.shopName : '所有店铺'}}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        prop=\"noticeContent\"\r\n        label=\"公告内容\"\r\n        width=\"180\"\r\n        align=\"center\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"startTime\"\r\n        label=\"公告开始时间\"\r\n        width=\"180\"\r\n        align=\"center\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"endTime\"\r\n        label=\"公告结束时间\"\r\n        width=\"200\"\r\n        align=\"center\" >\r\n      </el-table-column>\r\n      <el-table-column\r\n      label=\"操作\"\r\n      align=\"center\" >\r\n      <template slot-scope=\"scope\">\r\n      <el-button type=\"primary\" @click=\"editorShow(scope.row)\" icon=\"el-icon-edit\">编辑</el-button>\r\n      <el-button type=\"danger\" @click=\"del(scope.row.id)\" icon=\"el-icon-delete\">删除</el-button>\r\n      </template>\r\n      </el-table-column>\r\n    </el-table>\r\n</div>\r\n    <el-dialog title=\"店铺类别添加\" :visible.sync=\"addVisabilty\" width=\"30%\" :modal-append-to-body=\"false\" >\r\n      <el-form :model=\"addItem\" :rules=\"rules\" ref=\"addForm\">\r\n        <el-form-item label=\"公告名称\" prop=\"noticeName\">\r\n          <el-input v-model=\"addItem.noticeName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"公告内容\" prop=\"noticeContent\">\r\n          <el-input v-model=\"addItem.noticeContent\" type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"店铺名称\" prop=\"shopId\">\r\n          <!-- <el-input v-model=\"addItem.shopId\"></el-input> -->\r\n                 <el-select\r\n                       v-model=\"tempData.shopId\"\r\n                       filterable\r\n                       remote\r\n                       placeholder=\"为空则默认全部店铺\"\r\n                       :remote-method=\"searchNoticedStore\" clearable\r\n                       >\r\n                       <el-option\r\n                        v-for=\"item in shopIdList\"\r\n                        :key=\"item.id\"\r\n                        :value=\"item.id\"\r\n                        :label=\"item.shopName\"\r\n                       ></el-option>\r\n                 </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" prop=\"startTime\">\r\n          <el-date-picker\r\n            v-model=\"addItem.startTime\"\r\n            type=\"datetime\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            placeholder=\"选择开始时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" prop=\"endTime\">\r\n          <el-date-picker\r\n            v-model=\"addItem.endTime\"\r\n            type=\"datetime\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            placeholder=\"选择结束时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addVisabilty=false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit('addForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"店铺类别修改\" :visible.sync=\"editorVisabilty\" width=\"450px\" :modal-append-to-body=\"false\">\r\n      <el-form :model=\"editorItem\" :rules=\"rules\" ref=\"editorForm\">\r\n        <el-form-item label=\"公告名称\" prop=\"noticeName\">\r\n          <el-input v-model=\"editorItem.noticeName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"公告内容\" prop=\"noticeContent\">\r\n          <el-input v-model=\"editorItem.noticeContent\" type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"店铺id\">\r\n          <el-input v-model=\"editorItem.shopId\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" prop=\"startTime\">\r\n          <el-date-picker\r\n            v-model=\"editorItem.startTime\"\r\n            type=\"datetime\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            placeholder=\"选择开始时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" prop=\"endTime\">\r\n          <el-date-picker\r\n            v-model=\"editorItem.endTime\"\r\n            type=\"datetime\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            placeholder=\"选择结束时间\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editorVisabilty=false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit('editorForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n      <pagination :current-page=\"page.pageCurrent\"\r\n                  :page-size=\"page.pageSize\"\r\n                  :total=\"page.pageNum\"\r\n                  @sizeChange=\"sizeChange\"\r\n                  @currentChange=\"currentChange\"\r\n                  >\r\n     </pagination> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  storeNoticeList,\r\n  storeNoticeAdd,\r\n  storeNoticDel,\r\n  storeNoticUpdate,\r\n  storeNoticSearch,\r\n  store\r\n} from \"@/api/index.js\";\r\n import pagination from \"@/components/pagination\"\r\nexport default {\r\n  \r\n     components: {\r\n        pagination\r\n     },\r\n  data() {\r\n    return {\r\n      //下拉搜素框\r\n      shopIdList:[],\r\n      //表达验证规则\r\n      rules:{\r\n        noticeName:[{required:true,message:\"请输入公告名称\",tigger:'blur'}],\r\n        noticeContent:[{required:true,message:\"请输入公告内容\",tigger:'blur'}],\r\n        startTime:[{required:true,message:\"请选择开始时间\",tigger:'blur'}],\r\n        endTime:[{required:true,message:\"请选择结束时间\",tigger:'blur'}]\r\n      },\r\n      //加载状态\r\n      loading: false,\r\n      //表格数据\r\n      tableData: [],\r\n      //搜索时临时数据\r\n      tempData: {\r\n        noticeName: null,\r\n        shopName: null\r\n      },\r\n      //搜索时用的数据\r\n      searchData: {},\r\n      //分页数据\r\n      page: {\r\n        pageNum: null,\r\n        pageCurrent: 1,\r\n        pageSize: 5\r\n      },\r\n      editorItem: {},\r\n      //编辑窗口分类可见性\r\n      editorVisabilty: false,\r\n      //新增分类的窗口可见性\r\n      addVisabilty: false,\r\n      //新增店铺公告\r\n      addItem: {\r\n\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    //初始化数据\r\n    initData: function(page,size) {\r\n      this.loading = true;\r\n      storeNoticeList({\r\n        page: page||this.page.pageCurrent,\r\n        size: size||this.page.pageSize,\r\n        shopName: this.searchData.shopName,\r\n        noticeName: this.searchData.noticeName\r\n      }).then(res => {\r\n        this.tableData = res.rows;\r\n        this.page.pageNum = res.count;\r\n      });\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 500);\r\n    },\r\n    //删除\r\n    del(id){\r\n         storeNoticDel({id}).then((res) => {\r\n            this.initData()\r\n        })\r\n        setTimeout(()=>{\r\n          this.loading=false\r\n        },500)\r\n    },\r\n    //页数改变时的回调\r\n    currentChange(val) {\r\n      this.page.pageCurrent = val;\r\n      this.initData();\r\n    },\r\n    //每页总数改变时的回调\r\n    sizeChange(val) {\r\n      this.page.pageSize=val\r\n      this.page.pageCurrent = 1;\r\n      this.initData(1);\r\n    },\r\n     //条件查询\r\n   searchList: function () {\r\n        this.searchData=this.$common.deepCopy(this.tempData)\r\n        this.page.pageCurrent = 1;\r\n        this.initData(1)\r\n   },\r\n    close() {\r\n      this.editorVisabilty = false;\r\n      this.addVisabilty = false;\r\n    },\r\n    //呼出添加框\r\n    addShow(){\r\n          this.$common.clearMessage(this.addItem) \r\n          this.addVisabilty=true\r\n    },\r\n    //呼出编辑框\r\n   editorShow(row){\r\n            this.$common.clearMessage(this.editorItem)\r\n            this.editorItem=this.$common.deepCopy(row)\r\n            this.editorVisabilty=true\r\n   },\r\n   //提交数据\r\n   submit(formName){\r\n      this.$refs[formName].validate((valid)=>{\r\n        if(valid){\r\n          if(formName==\"editorForm\"){\r\n           storeNoticUpdate(this.editorItem).then((res)=>{\r\n             this.initData()\r\n           })\r\n          }else{\r\n            storeNoticeAdd(this.addItem).then((res)=>{\r\n                 this.close()\r\n                this.initData()\r\n              })  \r\n          }\r\n        }else{\r\n    return\r\n        }\r\n      })\r\n   },\r\n   searchNoticedStore(v){\r\n             this.$common.throttle(()=>{\r\n                    store.storeName({\r\n                         shopName:v\r\n                    }).then((res)=>{\r\n                      this.shopIdList=res.data\r\n                    })\r\n                    }\r\n             )\r\n   }\r\n  },\r\n  beforeMount() {\r\n    this.initData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.content {\r\n  /*min-width: 1200px;*/\r\n  background: rgb(255, 255, 255);\r\n  padding: 26px 30px;\r\n  position: relative;\r\n  /*min-height: 800px;*/\r\n}\r\nh4 {\r\n  text-align: left;\r\n  color: #333333;\r\n  font-size: 18px;\r\n  font-family: PingFang-SC-Bold;\r\n  padding-bottom: 25px;\r\n  border-bottom: 1px solid #e1e1e1;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/store/storeNotice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content clearfix\"},[_c('div',{staticClass:\"operation\"},[_c('div',{staticClass:\"clearfix\"},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{staticClass:\"mgb0\",attrs:{\"label\":\"店铺名称\"}},[_c('el-input',{model:{value:(_vm.tempData.shopName),callback:function ($$v) {_vm.$set(_vm.tempData, \"shopName\", $$v)},expression:\"tempData.shopName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{staticClass:\"mgb0\",attrs:{\"label\":\"公告名称\"}},[_c('el-input',{model:{value:(_vm.tempData.noticeName),callback:function ($$v) {_vm.$set(_vm.tempData, \"noticeName\", $$v)},expression:\"tempData.noticeName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"padding-left\":\"40px\"},attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"searchList\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchList}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addShow}},[_vm._v(\"新增\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"label\":\"序号\",\"align\":\"center\",\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"noticeName\",\"label\":\"公告名称\",\"width\":\"140\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"店铺名称\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.shopName != null ? scope.row.shopName : '所有店铺')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"noticeContent\",\"label\":\"公告内容\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"公告开始时间\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endTime\",\"label\":\"公告结束时间\",\"width\":\"200\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.editorShow(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"店铺类别添加\",\"visible\":_vm.addVisabilty,\"width\":\"30%\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.addVisabilty=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addItem,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"公告名称\",\"prop\":\"noticeName\"}},[_c('el-input',{model:{value:(_vm.addItem.noticeName),callback:function ($$v) {_vm.$set(_vm.addItem, \"noticeName\", $$v)},expression:\"addItem.noticeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公告内容\",\"prop\":\"noticeContent\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addItem.noticeContent),callback:function ($$v) {_vm.$set(_vm.addItem, \"noticeContent\", $$v)},expression:\"addItem.noticeContent\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"店铺名称\",\"prop\":\"shopId\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"为空则默认全部店铺\",\"remote-method\":_vm.searchNoticedStore,\"clearable\":\"\"},model:{value:(_vm.tempData.shopId),callback:function ($$v) {_vm.$set(_vm.tempData, \"shopId\", $$v)},expression:\"tempData.shopId\"}},_vm._l((_vm.shopIdList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.shopName}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"prop\":\"startTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择开始时间\"},model:{value:(_vm.addItem.startTime),callback:function ($$v) {_vm.$set(_vm.addItem, \"startTime\", $$v)},expression:\"addItem.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"endTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择结束时间\"},model:{value:(_vm.addItem.endTime),callback:function ($$v) {_vm.$set(_vm.addItem, \"endTime\", $$v)},expression:\"addItem.endTime\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addVisabilty=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit('addForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"店铺类别修改\",\"visible\":_vm.editorVisabilty,\"width\":\"450px\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.editorVisabilty=$event}}},[_c('el-form',{ref:\"editorForm\",attrs:{\"model\":_vm.editorItem,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"公告名称\",\"prop\":\"noticeName\"}},[_c('el-input',{model:{value:(_vm.editorItem.noticeName),callback:function ($$v) {_vm.$set(_vm.editorItem, \"noticeName\", $$v)},expression:\"editorItem.noticeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"公告内容\",\"prop\":\"noticeContent\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.editorItem.noticeContent),callback:function ($$v) {_vm.$set(_vm.editorItem, \"noticeContent\", $$v)},expression:\"editorItem.noticeContent\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"店铺id\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editorItem.shopId),callback:function ($$v) {_vm.$set(_vm.editorItem, \"shopId\", $$v)},expression:\"editorItem.shopId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"prop\":\"startTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择开始时间\"},model:{value:(_vm.editorItem.startTime),callback:function ($$v) {_vm.$set(_vm.editorItem, \"startTime\", $$v)},expression:\"editorItem.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"endTime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择结束时间\"},model:{value:(_vm.editorItem.endTime),callback:function ($$v) {_vm.$set(_vm.editorItem, \"endTime\", $$v)},expression:\"editorItem.endTime\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editorVisabilty=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit('editorForm')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('pagination',{attrs:{\"current-page\":_vm.page.pageCurrent,\"page-size\":_vm.page.pageSize,\"total\":_vm.page.pageNum},on:{\"sizeChange\":_vm.sizeChange,\"currentChange\":_vm.currentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ea26e88\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/store/storeNotice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ea26e88\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeNotice.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeNotice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeNotice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ea26e88\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeNotice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/store/storeNotice.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}