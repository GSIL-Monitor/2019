{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/object/create.js","webpack:///./node_modules/core-js/library/fn/object/create.js","webpack:///src/views/store/storeCategory.vue","webpack:///./src/views/store/storeCategory.vue?c971","webpack:///./src/views/store/storeCategory.vue","webpack:///./node_modules/core-js/library/modules/es6.object.create.js"],"names":["module","exports","default","__webpack_require__","__esModule","$Object","Object","P","D","create","storeCategory","components","pagination","data","rule","categoryName","required","message","tigger","categoryImg","loading","tableData","tempData","searchData","page","pageNum","pageCurrent","pageSize","editorItem","editorVisabilty","addVisabilty","newCategory","methods","initData","size","_this","this","api","then","res","rows","count","setTimeout","add","_this2","$refs","validate","vaild","$common","clearMessage","close","del","categoryCode","_this3","update","_this4","serialNumber","parseInt","searchList","create_default","currentChange","val","sizeChange","beforeAvatarUpload","file","isJPG","type","isLt2M","$message","error","handleAvatarSuccess","code","success","JSON","parse","fileUrl","editorShow","row","deepCopy","addShow","beforeMount","store_storeCategory","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","model","value","callback","$$v","$set","expression","slot","_v","icon","on","click","$event","directives","name","rawName","label","align","prop","scopedSlots","_u","key","fn","scope","title","visible","width","modal-append-to-body","update:visible","ref","rules","action","show-file-list","on-success","before-upload","src","disabled","current-page","page-size","total","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","$export","S"],"mappings":"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","file":"static/js/2.90baac11b01314a99ed3.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/create.js\n// module id = OvRC\n// module chunks = 2 4","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/create.js\n// module id = oM7Q\n// module chunks = 2 4","<template>\n    <div class=\"content storeCategory\">\n  <div class=\"operation\">\n     <el-row :gutter=\"40\">\n         <el-col :span=\"6\" >\n            <el-input v-model=\"tempData.categoryName\">\n              <template slot=\"prepend\">店铺分类</template>\n            </el-input>\n         </el-col>\n         <el-col :span=\"6\">\n           <el-button type=\"primary\" @click=\"searchList\" icon=\"el-icon-search\">查询</el-button>\n           <el-button type=\"primary\" @click=\"addShow()\" icon=\"el-icon-plus\">新增类别</el-button>\n         </el-col>\n    </el-row>\n  </div>\n  <div class=\"table\">\n        <el-table\n          :data=\"tableData\"\n          v-loading=\"loading\"\n        >\n        <el-table-column label=\"序号\" align=\"center\" type=\"index\"></el-table-column>\n        <el-table-column label=\"ID\" prop=\"categoryCode\" align=\"center\" ></el-table-column>\n        <el-table-column label=\"排序\" prop=\"serialNumber\" align=\"center\"></el-table-column>\n        <el-table-column label=\"上级分类\"  align=\"center\">\n          <template slot-scope=\"scope\">一级分类</template>\n        </el-table-column>\n        <el-table-column label=\"类别名称\" prop=\"categoryName\" align=\"center\"></el-table-column>\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" @click=\"editorShow(scope.row)\" icon=\"el-icon-edit\">编辑</el-button>\n            <el-button type=\"danger\" @click=\"del(scope.row.categoryCode)\" icon=\"el-icon-delete\">删除</el-button>\n          </template>\n        </el-table-column>\n    </el-table>\n</div>\n      <el-dialog title=\"店铺类别添加\" :visible.sync=\"addVisabilty\" width=\"450px\" :modal-append-to-body=\"false\">\n        <el-form :model=\"newCategory\" :rules=\"rule\" ref=\"add\">\n          <el-form-item label=\"类别名称\" prop=\"categoryName\">\n            <el-input v-model=\"newCategory.categoryName\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"类别图片\" prop=\"categoryImg\">\n                  <el-upload\n                    class=\"avatar-uploader\"\n                    action=\"http://o2o.711fang.com/web/api/common/upload\"\n                    :show-file-list=\"false\"\n                    :on-success=\"handleAvatarSuccess\"\n                    :before-upload=\"beforeAvatarUpload\">\n                    <img v-if=\"newCategory.categoryImg\" :src=\"newCategory.categoryImg\" class=\"avatar\">\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                  </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"close\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"add\">确 定</el-button>\n        </div>\n      </el-dialog>\n      <el-dialog title=\"店铺类别修改\" :visible.sync=\"editorVisabilty\" width=\"450px\" :modal-append-to-body=\"false\">\n        <el-form>\n          <el-form-item label=\"类别ID\">\n            <el-input v-model=\"editorItem.categoryCode\" disabled></el-input>\n          </el-form-item>\n          <el-form-item label=\"类别名称\">\n            <el-input v-model=\"editorItem.categoryName\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"排序\">\n            <el-input v-model=\"editorItem.serialNumber\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"类别图片\">\n          <el-upload\n                    class=\"avatar-uploader\"\n                    action=\"http://o2o.711fang.com/web/api/common/upload\"\n                    :show-file-list=\"false\"\n                    :on-success=\"handleAvatarSuccess\"\n                    :before-upload=\"beforeAvatarUpload\">\n                    <img v-if=\"editorItem.categoryImg\" :src=\"editorItem.categoryImg\" class=\"avatar\">\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"close\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"update\">确 定</el-button>\n        </div>\n      </el-dialog>\n      <pagination :current-page=\"page.pageCurrent\"\n                     :page-size=\"page.pageSize\"\n                     :total=\"page.pageNum\"\n                     @sizeChange=\"sizeChange\"\n                     @currentChange=\"currentChange\"\n                  >\n     </pagination>\n\n    </div>\n\n</template>\n\n<script>\nimport {\n  storeCategoryList,\n  storeCategorAdd,\n  storeCategorDel,\n  storeCategorSearch,\n  storeCategorUpdate,\n  upImg\n} from \"@/api/index.js\";\nimport pagination from \"@/components/pagination\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    pagination\n  },\n  data() {\n    return {\n      //表单提交验证\n      rule: {\n        categoryName: [\n          { required: true, message: \"请输入类别名称\", tigger: \"blur\" }\n        ],\n        categoryImg: [\n          { required: true, message: \"请选择上传的图片\", tigger: \"change\" }\n        ]\n      },\n      //加载状态\n      loading: false,\n      //表格数据\n      tableData: [],\n      //搜索时临时数据\n      tempData: {\n        categoryName: null\n      },\n      //搜索时用的数据\n      searchData: {},\n      //分页数据\n      page: {\n        pageNum: null,\n        pageCurrent: 1,\n        pageSize: 5\n      },\n      editorItem: {},\n      //编辑窗口分类可见性\n      editorVisabilty: false,\n      //新增分类的窗口可见性\n      addVisabilty: false,\n      //新增店铺类别\n      newCategory: {\n        categoryImg: \"\",\n        categoryName: \"\"\n      }\n    };\n  },\n  methods: {\n    //初始化数据\n    initData: function(page, size) {\n      this.loading = true;\n      storeCategoryList({\n        page: page || this.page.pageCurrent,\n        size: size || this.page.pageSize,\n        categoryName: this.searchData.categoryName\n      }).then(res => {\n        this.tableData = res.rows;\n        this.page.pageNum = res.count;\n      });\n      setTimeout(() => {\n        this.loading = false;\n      }, 500);\n    },\n    //添加类别\n    add: function() {\n      this.$refs[\"add\"].validate(vaild => {\n        if (vaild) {\n          storeCategorAdd(this.newCategory).then(res => {\n              this.$common.clearMessage(this.searchData);\n              this.close();\n              this.initData();\n          });\n        }else{\n          return\n        }\n      });\n    },\n    //删除店铺类别\n    del: function(categoryCode) {\n      this.loading = true;\n      storeCategorDel({ categoryCode }).then(res => {\n          this.initData();\n      });\n      setTimeout(() => {\n        this.loading = false;\n      }, 500);\n    },\n    //更新店铺类别\n    update: function() {\n      storeCategorUpdate({\n        categoryCode: this.editorItem.categoryCode,\n        categoryImg: this.editorItem.categoryImg,\n        categoryName: this.editorItem.categoryName,\n        serialNumber: parseInt(this.editorItem.serialNumber)\n      }).then(res => {\n          this.editorVisabilty = false;\n          this.initData();\n      });\n    },\n    //条件查询\n    searchList: function() {\n      this.searchData = Object.create(this.tempData);\n      this.page.pageCurrent = 1;\n      this.initData(1);\n    },\n    //页数改变时的回调\n    currentChange(val) {\n      this.page.pageCurrent = val;\n      this.initData();\n    },\n    //每页总数改变时的回调\n    sizeChange(val) {\n      this.page.pageSize = val;\n      this.page.pageCurrent = 1;\n      this.initData(1);\n    },\n    //上传图片\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === \"image/png\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error(\"上传头像图片只能是 png 格式!\");\n      }\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n      return isJPG && isLt2M;\n    },\n    //图片上传成功回调\n    handleAvatarSuccess(res) {\n      if (res.code === 0) {\n        this.$message.success(\"上传成功\");\n        if (this.editorVisabilty) {\n          this.editorItem.categoryImg = JSON.parse(res.data).fileUrl;\n        } else {\n          this.newCategory.categoryImg = JSON.parse(res.data).fileUrl;\n        }\n      } else {\n        this.$message.error(\"上传失败\");\n      }\n    },\n    //打开编辑类别窗口\n    editorShow(row) {\n      this.$common.clearMessage(this.editorItem);\n      this.editorItem = this.$common.deepCopy(row);\n      this.editorVisabilty = true;\n    },\n    //关闭窗口清除窗口的信息\n    close() {\n      this.editorVisabilty = false;\n      this.addVisabilty = false;\n    },\n    addShow() {\n      this.$common.clearMessage(this.newCategory);\n      this.addVisabilty = true;\n    }\n  },\n  beforeMount() {\n    this.initData();\n  }\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  background: #fff;\n}\n.dialog-footer {\n  text-align: center;\n}\n</style>\n<style lang=\"scss\">\n.storeCategory {\n  .avatar-uploader {\n    margin-left: 30%;\n  }\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409eff;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/store/storeCategory.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content storeCategory\"},[_c('div',{staticClass:\"operation\"},[_c('el-row',{attrs:{\"gutter\":40}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{model:{value:(_vm.tempData.categoryName),callback:function ($$v) {_vm.$set(_vm.tempData, \"categoryName\", $$v)},expression:\"tempData.categoryName\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"店铺分类\")])],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchList}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.addShow()}}},[_vm._v(\"新增类别\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\",\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"categoryCode\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"排序\",\"prop\":\"serialNumber\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上级分类\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"一级分类\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"类别名称\",\"prop\":\"categoryName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.editorShow(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.del(scope.row.categoryCode)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"店铺类别添加\",\"visible\":_vm.addVisabilty,\"width\":\"450px\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.addVisabilty=$event}}},[_c('el-form',{ref:\"add\",attrs:{\"model\":_vm.newCategory,\"rules\":_vm.rule}},[_c('el-form-item',{attrs:{\"label\":\"类别名称\",\"prop\":\"categoryName\"}},[_c('el-input',{model:{value:(_vm.newCategory.categoryName),callback:function ($$v) {_vm.$set(_vm.newCategory, \"categoryName\", $$v)},expression:\"newCategory.categoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别图片\",\"prop\":\"categoryImg\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://o2o.711fang.com/web/api/common/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.newCategory.categoryImg)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.newCategory.categoryImg}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"店铺类别修改\",\"visible\":_vm.editorVisabilty,\"width\":\"450px\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.editorVisabilty=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"类别ID\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editorItem.categoryCode),callback:function ($$v) {_vm.$set(_vm.editorItem, \"categoryCode\", $$v)},expression:\"editorItem.categoryCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别名称\"}},[_c('el-input',{model:{value:(_vm.editorItem.categoryName),callback:function ($$v) {_vm.$set(_vm.editorItem, \"categoryName\", $$v)},expression:\"editorItem.categoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\"}},[_c('el-input',{model:{value:(_vm.editorItem.serialNumber),callback:function ($$v) {_vm.$set(_vm.editorItem, \"serialNumber\", $$v)},expression:\"editorItem.serialNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别图片\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://o2o.711fang.com/web/api/common/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.editorItem.categoryImg)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.editorItem.categoryImg}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('pagination',{attrs:{\"current-page\":_vm.page.pageCurrent,\"page-size\":_vm.page.pageSize,\"total\":_vm.page.pageNum},on:{\"sizeChange\":_vm.sizeChange,\"currentChange\":_vm.currentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-579b2d69\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/store/storeCategory.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-579b2d69\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeCategory.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-579b2d69\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./storeCategory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeCategory.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeCategory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-579b2d69\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeCategory.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/store/storeCategory.vue\n// module id = null\n// module chunks = ","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.create.js\n// module id = sF+V\n// module chunks = 2 4"],"sourceRoot":""}