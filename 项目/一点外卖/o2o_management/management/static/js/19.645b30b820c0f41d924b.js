webpackJsonp([19],{"5oVR":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("fZjL"),n=t.n(l),i=t("gyMJ"),s=(t("7+uW"),{data:function(){return{loading:!1,addAdminObject:{userAccount:"",userName:""},languageArr:[{value:1,label:"中文"},{value:2,label:"English"},{value:3,label:"Türk dili"},{value:4,label:"العربية"},{value:5,label:"Le français"},{value:6,label:"lingua italiana"},{value:7,label:"日本語"},{value:8,label:"Người việt nam"},{value:9,label:"Deutsch"}],languageNum:1,pageData:{dataTotal:null,pageNo:1,pagesizeNo:10},sysRoleId:"",addAdminVis:!1,serData:{roleName:"",userName:""},adminList:[],selectingData:[]}},methods:{lanSelect:function(e){console.log(e),this.addAdminObject.language=String(e)},Frozen:function(e,a,t){console.log(t),1===a?Object(i.a)({id:e,status:0}).then(function(e){t.status=0}):Object(i.a)({id:e,status:1}).then(function(e){t.status=1})},initTable:function(e){var a=this;this.adminList=e.rows,this.pageData.dataTotal=e.count,setTimeout(function(){a.loading=!1},500)},search:function(){var e=this,a={page:this.pageData.pageNo,size:this.pageData.pagesizeNo,roleName:this.serData.roleName,userName:this.serData.userName};Object(i.d)(a).then(function(a){e.initTable(a)})},initData:function(){var e=this;Object(i.d)({page:1,size:10}).then(function(a){e.loading=!0,e.initTable(a)}),Object(i.l)({page:1,size:10}).then(function(a){a.rows.forEach(function(a){e.selectingData.push({label:a.roleName,id:a.id})})})},addAdmin:function(){this.addAdminVis=!0},closeAdd:function(){this.clearMessage(),this.addAdminVis=!1},clearMessage:function(){var e=this.addAdminObject;n()(e).forEach(function(a){e[a]=""})},submitAddAdmin:function(){var e=this,a=this;this.addAdminObject.sysRoleId=this.sysRoleId,Object(i.b)(this.addAdminObject).then(function(t){a.clearMessage(),a.closeAdd(),e.initData()})},ConfirmdelAdmin:function(e,a){var t=this;this.$confirm("此操作将永久删除该管理员信息,是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.c.delAdmin({id:e}).then(function(e){t.initData()})})},handleSizeChange:function(e){var a=this;this.pageData.pagesizeNo=e,Object(i.d)({page:this.pageData.pageNo,size:this.pageData.pagesizeNo,userName:this.serData.userName,roleName:this.serData.roleName}).then(function(e){a.loading=!0,a.initTable(e)})},handleCurrentChange:function(e){var a=this;this.pageData.pageNo=e,Object(i.d)({page:this.pageData.pageNo,size:this.pageData.pagesizeNo,userName:this.serData.userName,roleName:this.serData.roleName}).then(function(e){a.loading=!0,a.initTable(e)})}},beforeMount:function(){this.initData()}}),o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content clearfix"},[t("el-dialog",{attrs:{placement:"top-start",width:"400",visible:e.addAdminVis,title:"添加管理员",transition:"fade-in-linear","modal-append-to-body":!1,"show-close":!1},on:{"update:visible":function(a){e.addAdminVis=a}}},[t("el-row",{staticClass:"mgt20",attrs:{span:12}},[t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"请输入管理员账号"},model:{value:e.addAdminObject.userAccount,callback:function(a){e.$set(e.addAdminObject,"userAccount",a)},expression:"addAdminObject.userAccount"}},[t("template",{slot:"prepend"},[e._v("用户账号")])],2)],1)],1),e._v(" "),t("el-row",{staticClass:"mgt20",attrs:{span:12}},[t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"请输入管理员名称"},model:{value:e.addAdminObject.userName,callback:function(a){e.$set(e.addAdminObject,"userName",a)},expression:"addAdminObject.userName"}},[t("template",{slot:"prepend"},[e._v("用户名称")])],2)],1)],1),e._v(" "),t("el-row",{staticClass:"mgt20",attrs:{span:12}},[t("label",{staticStyle:{"margin-right":"10px",color:"rgb(147,147,147)","padding-left":"15px"},attrs:{for:""}},[e._v("请选择语言")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.lanSelect},model:{value:e.languageNum,callback:function(a){e.languageNum=a},expression:"languageNum"}},e._l(e.languageArr,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-row",{staticClass:"mgt20",attrs:{span:12}},[t("label",{staticStyle:{"margin-right":"10px",color:"rgb(147,147,147)","padding-left":"15px"},attrs:{for:""}},[e._v("管理员权限")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择管理员权限",clearable:""},model:{value:e.sysRoleId,callback:function(a){e.sysRoleId=a},expression:"sysRoleId"}},e._l(e.selectingData,function(e){return t("el-option",{key:e.index,attrs:{label:e.label,value:e.id}})}))],1),e._v(" "),t("div",{staticClass:"box-size"},[t("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:e.submitAddAdmin}},[e._v("添加")]),e._v(" "),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.clearMessage}},[e._v("清空")])],1)],1),e._v(" "),t("div",{staticClass:"operation"},[t("el-row",{attrs:{gutter:20}},[t("div",{staticClass:"clearfix"},[t("el-col",{attrs:{span:8}},[t("el-input",{attrs:{id:"account",placeholder:"请输入账号名称"},model:{value:e.serData.userName,callback:function(a){e.$set(e.serData,"userName",a)},expression:"serData.userName"}},[t("template",{slot:"prepend"},[e._v("账号名称")])],2)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-row",{attrs:{gutter:5}},[t("label",[e._v("所属角色名称")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.serData.roleName,callback:function(a){e.$set(e.serData,"roleName",a)},expression:"serData.roleName"}},e._l(e.selectingData,function(e){return t("el-option",{key:e.id,attrs:{value:e.label,label:e.label}})}))],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAdmin}},[e._v("添加")]),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)])],1),e._v(" "),t("div",{staticClass:"table"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.adminList}},[t("el-table-column",{attrs:{type:"index",label:"ID",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userAccount",label:"管理员账号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"管理员名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createTime",label:"加入时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"endLoginTime",label:"最后登录时间"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"250",prop:"text"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.Frozen(a.row.id,a.row.status,a.row)}}},[e._v(e._s(1===a.row.status?"冻结":"解冻"))]),e._v(" "),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.ConfirmdelAdmin(a.row.id,a.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),t("el-pagination",{staticClass:"mgt20",attrs:{"page-sizes":[10,5,20],"current-page":e.pageData.pageNo,"page-size":e.pageData.pagesizeNo,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.dataTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var r=t("VU/8")(s,o,!1,function(e){t("ymdf")},"data-v-48f4f5ca",null);a.default=r.exports},ymdf:function(e,a){}});
//# sourceMappingURL=19.645b30b820c0f41d924b.js.map